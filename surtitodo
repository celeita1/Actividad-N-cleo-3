package surtitodo;

public class Producto {
    private static int contador = 1;  

    private int codigo;               
    private String nombre;
    private int cantidad;
    private double precio;
    private double total;

    public Producto(String nombre, int cantidad, double precio) {
        this.codigo = contador++;  
        this.nombre = nombre;
        this.cantidad = cantidad;
        this.precio = precio;
        this.total = cantidad * precio;
    }

  
    public int getCodigo() { return codigo; }
    public void setCodigo(int codigo) { this.codigo = codigo; }

    public String getNombre() { return nombre; }
    public void setNombre(String nombre) { this.nombre = nombre; }

    public int getCantidad() { return cantidad; }
    public void setCantidad(int cantidad) { this.cantidad = cantidad; }

    public double getPrecio() { return precio; }
    public void setPrecio(double precio) { this.precio = precio; }

    public double getTotal() { return total; }
    public void setTotal(double total) { this.total = total; }

    public void actualizarTotal() {
        this.total = this.cantidad * this.precio;
    }

    @Override
    public String toString() {
        return String.format("%-10d %-15s %-10d %-10.2f %-10.2f", codigo, nombre, cantidad, precio, total);
    }
}






package surtitodo;

import java.util.LinkedList;

public class Factura {
    private static int contadorFactura = 1;  

    private LinkedList<Producto> productos;
    private int numeroCaja;
    private int numeroFactura;

    public Factura(int numeroCaja) {
        this.productos = new LinkedList<>();
        this.numeroCaja = numeroCaja;
        this.numeroFactura = contadorFactura++;  
    }

    public void agregarProducto(String nombre, int cantidad, double precio) {
        Producto producto = new Producto(nombre, cantidad, precio);
        productos.add(producto);
    }

    public void modificarProducto(int codigo, double incremento) {
        for (Producto p : productos) {
            if (p.getCodigo() == codigo) {
                double nuevoPrecio = p.getPrecio() * (1 + incremento);
                p.setPrecio(nuevoPrecio);
                p.actualizarTotal();
                break;
            }
        }
    }

    public void eliminarProducto(int codigo) {
        productos.removeIf(p -> p.getCodigo() == codigo);
    }

    public Producto buscarProducto(int codigo) {
        for (Producto p : productos) {
            if (p.getCodigo() == codigo) {
                return p;
            }
        }
        return null;
    }

    public void mostrarFactura() {
        System.out.println(" Numero de Factura: " + numeroFactura + " | Numero de Caja: " + numeroCaja);
        System.out.printf("%-10s %-15s %-10s %-10s %-10s\n", "Codigo", "Nombre", "Cantidad", "Precio", "Total");
        System.out.println("-----------------------------------------------------");
        double totalFactura = 0;
        int totalProductos = 0;  

        for (Producto p : productos) {
            System.out.println(p);
            totalFactura += p.getTotal();
            totalProductos += p.getCantidad(); 
        }

        double iva = totalFactura * 0.19;
        double precioFinal = totalFactura + iva;

        System.out.printf("\nTotal Productos: %d\n", totalProductos);
        System.out.printf("Total: %.2f\n", totalFactura);
        System.out.printf("IVA (19%%): %.2f\n", iva);
        System.out.printf("Precio Final: %.2f\n", precioFinal);
    }
}







package surtitodo;

import java.util.Scanner;

public class Main {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        System.out.print("Ingrese el numero de caja: ");
        int numeroCaja = scanner.nextInt();
        scanner.nextLine();  
        Factura factura = new Factura(numeroCaja);

        while (true) {
            System.out.println("Opciones:");
            System.out.println("1. Agregar Producto");
            System.out.println("2. Modificar Producto");
            System.out.println("3. Eliminar Producto");
            System.out.println("4. Buscar Producto");
            System.out.println("5. Mostrar Factura");
            System.out.println("6. Salir");
            System.out.print("Elija una opcion: ");
            
            int opcion = scanner.nextInt();
            scanner.nextLine();  

            switch (opcion) {
                case 1 -> {
                    System.out.print("Nombre: ");
                    String nombre = scanner.nextLine();
                    System.out.print("Cantidad: ");
                    int cantidad = scanner.nextInt();
                    System.out.print("Precio: ");
                    double precio = scanner.nextDouble();
                    scanner.nextLine();  
                    factura.agregarProducto(nombre, cantidad, precio);
                }

                case 2 -> {
                    System.out.print("Codigo del producto a modificar: ");
                    int codigoModificar = scanner.nextInt();
                    scanner.nextLine();
                    factura.modificarProducto(codigoModificar, 0.05);
                }

                case 3 -> {
                    System.out.print("Codigo del producto a eliminar: ");
                    int codigoEliminar = scanner.nextInt();
                    scanner.nextLine(); 
                    factura.eliminarProducto(codigoEliminar);
                }

                case 4 -> {
                    System.out.print("Codigo del producto a buscar: ");
                    int codigoBuscar = scanner.nextInt();
                    scanner.nextLine();  
                    Producto p = factura.buscarProducto(codigoBuscar);
                    if (p != null) {
                        System.out.println(p);
                    } else {
                        System.out.println("Producto no encontrado.");
                    }
                }

                case 5 -> factura.mostrarFactura();

                case 6 -> {
                    System.out.println("Saliendo...");
                    scanner.close();
                    return;
                }

                default -> System.out.println("Opcion no valida.");
            }
        }
    }
}
